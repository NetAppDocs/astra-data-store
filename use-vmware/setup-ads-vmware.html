<!DOCTYPE html>
<html lang="en">
  <head class="at-element-marker">
  <title>Set up Astra Data Store with VMware</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Set up Astra Data Store with VMware" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/us-en/astra-data-store/use-vmware/setup-ads-vmware.html" />
	<meta property="og:description" content="You can deploy and manage the Astra Data Store using the Astra vCenter Plug-in and VMware vSphere-native functionality." />
  <meta property="og:image" content="https://docs.netapp.com/us-en/astra-data-store/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/><meta name="description" content="You can deploy and manage the Astra Data Store using the Astra vCenter Plug-in and VMware vSphere-native functionality.">
  <meta name="keywords" content=" astra, vmware, vcenter, astra data store"><!-- Icons -->
  <link rel="icon" href="/us-en/astra-data-store/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed --><!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Controls AsciiDoctor Admonition Blocks -->
  <link rel="stylesheet" type="text/css" href="/us-en/astra-data-store/css/font-awesome.min.css">

  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/us-en/astra-data-store/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel="stylesheet" type="text/css" href="/us-en/astra-data-store/css/netapp.css">

  <!-- WWW CSS Content -->
  <link rel="stylesheet" type="text/css" href="/us-en/astra-data-store/css/www-luci-dotcom.min.css">
  <link rel="stylesheet" type="text/css" href="/us-en/astra-data-store/css/www-netapp-dotcom.css">
  <link rel="stylesheet" href="/us-en/astra-data-store/css/www-netapp-library-critical.min.css" media="all" >
  <link rel="stylesheet" href="/us-en/astra-data-store/css/www-netapp-library-non-critical.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="/us-en/astra-data-store/css/www-netapp-library-global-header-footer.min.css">

  <!-- NetApp IE Customizations -->
  <link rel="stylesheet" href='/us-en/astra-data-store/css/na-utility.css' type='text/css'>
  <link rel="stylesheet" href='/us-en/astra-data-store/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/astra-data-store/css/clouddocs.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/astra-data-store/css/custom-dropdown.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/astra-data-store/css/na-pagenav.css' type='text/css'>

  
  <link rel="stylesheet" href="/us-en/astra-data-store/css/landing-page.css" type="text/css">
  <link rel="stylesheet" href="/us-en/astra-data-store/css/tabbed-blocks.css" type="text/css">
  <!-- Canonical url -->
  <link rel='stylesheet' href='/us-en/astra-data-store/css/na-feature.css' type='text/css'><!-- Top level site integrations --><script>
    if (document.location.hostname === "docs.netapp.com") {
      var head = document.getElementsByTagName('head')[0];
      var onetrustConsent = document.createElement("script");
      onetrustConsent.type = "text/javascript";
      onetrustConsent.src = "https://cdn.cookielaw.org/consent/72570c5c-fe30-465f-b0e0-b77f7fb4ae34/OtAutoBlock.js";
      head.appendChild(onetrustConsent);

      var onetrustScript = document.createElement("script");
      onetrustScript.type = "text/javascript";
      onetrustScript.src = "https://cdn.cookielaw.org/scripttemplates/otSDKStub.js";
      onetrustScript.charset = "UTF-8";
      onetrustScript.dataset.documentLanguage = "true";
      onetrustScript.dataset.domainScript = "72570c5c-fe30-465f-b0e0-b77f7fb4ae34";
      head.appendChild(onetrustScript);
    }

    function OptanonWrapper() { }

    if (document.location.hostname === "docs.netapp.com") {
      var adobe = document.createElement("script");
      adobe.type = "text/plain";
      adobe.className = "optanon-category-C0002";
      adobe.src = "//assets.adobedtm.com/60287eadf1ee/c284da483c83/launch-e9ff3acac59f.min.js";
      head.appendChild(adobe);

      var google = document.createElement("script");
      google.type = "text/plain";
      google.className = "optanon-category-C0002";
      google.src = "https://www.googletagmanager.com/gtag/js?id=UA-81697994-3";
      head.appendChild(google);

      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-81697994-3');
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

  <!-- Used for Product Family Page Sidebar Visibility --><!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script><script src='/us-en/astra-data-store/js/na-search.js'></script><script src='/us-en/astra-data-store/js/na-pagenav.js'></script><link rel='stylesheet' href='/us-en/astra-data-store/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/astra-data-store/css/prism-netapp.css' type='text/css'>


  <script src='/us-en/astra-data-store/js/na-utility.js'></script>
  <script src='/us-en/astra-data-store/js/clouddocs.js'></script>
  <script src='/us-en/astra-data-store/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/us-en/astra-data-store/js/toc.js'></script>
  <script src='/us-en/astra-data-store/js/customscripts.js'></script><script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>
  <script src='/us-en/astra-data-store/js/custom-dropdown.js'></script>
  <script src='/us-en/astra-data-store/js/FileSaver.min.js'></script>
  <script src='/us-en/astra-data-store/js/jszip-utils.min.js'></script>
  <script src='/us-en/astra-data-store/js/jszip.min.js'></script>
  <script src='/us-en/astra-data-store/js/pdf-ux.js'></script>
</head>


  <body class role="document" data-flavor="">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  
  <!-- Start Page Toolbar -->
  
  <div class="page-nav-toolbar"><div class="page-nav-contribute"><a target="_blank" href="https://github.com/NetAppDocs/astra-data-store/issues/new?body=Page%3A%20[Set up Astra Data Store with VMware](https://docs.netapp.com/us-en/astra-data-store/use-vmware/setup-ads-vmware.html)" class="page-nav-contribute-link" role="button"><img src="/us-en/astra-data-store/images/discuss-sm.svg" alt="" class="github-icon" />Request doc changes</a><a target="_blank" href="https://github.com/NetAppDocs/astra-data-store/blob/main/use-vmware/setup-ads-vmware.adoc" class="page-nav-contribute-link" role="button"><img src="/us-en/astra-data-store/images/edit-sm.svg" alt="" class="github-icon" />Edit this page</a><a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  ><img src="/us-en/astra-data-store/images/article-sm.svg" alt="" class="github-icon" />Learn how to contribute</a></div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">ON THIS PAGE</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">Product and Solutions</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">Support and Training</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">Cloud Central</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">Community</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">Blog</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">Customer Stories</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search" 
          data-search-html="/us-en/astra-data-store/search.html"
          data-type="widget" 
          data-placeholder="Search Documentation"
          data-no-results-found="No results were found for {query}"
          data-did-you-mean="Search for {suggestion}."
          data-no-results-found-did-you-mean="No results found for {query}. Did you mean {suggestion}?"
          data-results-found="{hitCount} results found"
          data-error-message="We're sorry, an issue occurred when fetching your results. Please try again."
          data-error-reset="Reset Search"
          data-sk-es-pf-indexes=""
          data-flavor=""></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <div class="n-property-bar__toolbar">
    <!-- Start Language Selector --><div id="language-dropdown" class="custom-dropdown custom-dropdown-lang">
      <div class="custom-dropdown-select custom-dropdown-select-lang">
      <span class="lang-name">English</span>
          <svg class="n-globe__icon" aria-labelledby="title">
            <title>globe</title>
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#globe"></use>
          </svg>
        </button>
      </div>

      <ul class="custom-dropdown-menu"><li>
          <a href="https://docs.netapp.com/us-en/astra-data-store/use-vmware/setup-ads-vmware.html" target="_self"><span translate="no" class="notranslate">English</span></a>
        </li><li>
          <a href="https://docs.netapp.com/ja-jp/astra-data-store/use-vmware/setup-ads-vmware.html" target="_self"><span translate="no" class="notranslate">日本語</span></a>
        </li><li>
          <a href="https://docs.netapp.com/zh-cn/astra-data-store/use-vmware/setup-ads-vmware.html" target="_self"><span translate="no" class="notranslate">简体中文</span></a>
        </li><li>
          <a href="https://docs.netapp.com/zh-tw/astra-data-store/use-vmware/setup-ads-vmware.html" target="_self"><span translate="no" class="notranslate">繁體中文</span></a>
        </li><li>
          <a href="https://docs.netapp.com/ko-kr/astra-data-store/use-vmware/setup-ads-vmware.html" target="_self"><span translate="no" class="notranslate">한국어</span></a>
        </li></ul>
    </div><!-- End Language Selector -->

    <div class="n-property-bar__cta"></div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" id="sidebar-height">
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">
    <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>Available PDFs<span>
    </span>
  </a>
</div>
<div class="n-pdf-body-container">
  <ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;"><li class="pdf-ux-container">
        
        
        
        <a target="_blank" href="/us-en/astra-data-store/pdfs/fullsite-sidebar/Astra_Data_Store_documentation.pdf" >
          <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>PDF of this doc site</a>



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/astra-data-store/pdfs/sidebar/Release_notes.pdf" 
            
          >
            <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>
            Release notes
          </a>
          






        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/astra-data-store/pdfs/sidebar/Concepts.pdf" 
            
          >
            <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>
            Concepts
          </a>
          










        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/astra-data-store/pdfs/sidebar/Get_started.pdf" 
            
          >
            <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>
            Get started
          </a>
          












        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/astra-data-store/pdfs/sidebar/Use_Astra_Data_Store.pdf" 
            
          >
            <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>
            Use Astra Data Store
          </a>
          







    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/astra-data-store/pdfs/sidebar/Monitor_Astra_Data_Store.pdf" 
            
          >
            <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>
            Monitor Astra Data Store
          </a>
          






        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/astra-data-store/pdfs/sidebar/Secure_Astra_Data_Store.pdf" 
            
          >
            <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>
            Secure Astra Data Store
          </a>
          




        </li>
      </ul>
    

  








        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/astra-data-store/pdfs/sidebar/Use_Astra_Data_Store_with_VMware.pdf" 
            
          >
            <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>
            Use Astra Data Store with VMware
          </a>
          




    <ul class="subfolders" id="pdf-remove" style="display:none;"><li class="active"></li></ul>
  








        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/astra-data-store/pdfs/sidebar/Knowledge_and_support.pdf" 
            
          >
            <img src="/us-en/astra-data-store/images/pdf.png" alt="" width="16" height="16"/>
            Knowledge and support
          </a>
          






        </li>
      </ul>
    

  





</li></ul>
  <div class="zip-pdf-link-container" style="display: none;">   
    <a href="#" id="zipPdf">
      <img src="/us-en/astra-data-store/images/pdf-zip.png" alt="" width="16" height="16"/>
      <pre>Collection of separate PDF docs<span class="zip-size"></span></pre>
    </a><div id="zip-link-popup" class="hide">
    <div class="inner-modal">
        <div class="downloading-progress">
            <div class="spinner"></div>
            <h1>Creating your file...</h1>
            <div>This may take a few minutes. Thanks for your patience.</div>
            <button class="cancel-download-btn" type="button">Cancel</button>
        </div>
        <div class="download-complete hide">
            <div class="done-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"/></svg>
            </div>
            <div>Your file is ready</div>
            <button class="cancel-download-btn" type="button">OK</button>
        </div>
    </div>
</div>
<script>
    $(".cancel-download-btn").click(function(){
        $("#zip-link-popup").addClass("hide");
        $("#zip-link-popup .downloading-progress").removeClass("hide");
        $("#zip-link-popup .download-complete").addClass("hide");
    });
</script></div>
</div>
<script>
  $("#toggleContainerPdf li.active:last-child").parents('ul.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
    $(".n-pdf-body-container .zip-pdf-link-container").toggle('display');
  });
</script><div class="sidebar-nav-container" id="mysidebardiv">
  <ul id="mysidebar" class="nav"><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/index.html">
        Astra Data Store docs
      </a></li><li class="subfolders "><a href="/us-en/astra-data-store/release-notes/rn_overview.html">
        <div class="na-navbar-padding"> Release notes</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/release-notes/whats-new.html">
        What's new in this release of Astra Data Store
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/release-notes/known-issues.html">
        Known issues
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/release-notes/known-limitations.html">
        Known limitations
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Concepts</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/concepts/intro.html">
        Learn about Astra Data Store
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/concepts/architecture.html">
        Deployment models
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/concepts/expansion.html">
        Cluster expansion
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/concepts/storage-efficiency.html">
        Storage efficiency
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/concepts/security.html">
        Security
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Get started</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/get-started/requirements.html">
        Astra Data Store requirements
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/get-started/quick-start.html">
        Quick start for Astra Data Store
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/get-started/install-ads.html">
        Install Astra Data Store
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/get-started/setup-ads.html">
        Set up Astra Data Store components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/get-started/capabilities.html">
        Astra Data Store limits
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/get-started/faq-ads.html">
        FAQ
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Use Astra Data Store</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/kubectl-commands-ads.html">
        Manage Astra Data Store resources
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/deploy-apps.html">
        Deploy a test application
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/maintain-cluster.html">
        Manage the cluster
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Monitor Astra Data Store</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/monitor-with-cloud-insights.html">
        Monitor metrics with Cloud Insights
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/monitor-with-prometheus-grafana.html">
        Monitor metrics with Prometheus and Grafana
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/configure-endpoints.html">
        Configure and monitor event logs
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Secure Astra Data Store</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/manage-certificates.html">
        Manage security certificates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/manage-keys.html">
        Manage external keys
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/update-ads-license.html">
        Update the Astra Data Store license
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/upgrade-ads.html">
        Upgrade Astra Data Store
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use/uninstall-ads.html">
        Uninstall Astra Data Store
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Use Astra Data Store with VMware</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use-vmware/use-ads-vmware-overview.html">
        Learn about Astra Data Store with VMware
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use-vmware/ads-vmware-requirements.html">
        Astra Data Store with VMware requirements
      </a></li><li class="  active "><a class="na-navbar-padding" href="/us-en/astra-data-store/use-vmware/setup-ads-vmware.html">
        Set up Astra Data Store with VMware
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use-vmware/monitor-ads-vmware.html">
        Monitor components of your VMware installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use-vmware/manage-ads-vmware.html">
        Manage Astra Data Store components of your VMware installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/use-vmware/uninstall-ads-vmware.html">
        Uninstall Astra Data Store from a VMware-integrated environment
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Knowledge and support</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/support/troubleshooting-ads.html">
        Troubleshooting
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/support/get-help-ads.html">
        Get help
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/support/autosupport.html">
        Automatic support monitoring
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/ads-earlier-versions.html">
        Earlier versions
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/astra-data-store/legal-notices.html">
        Legal notices
      </a></li></ul>
</div>
<script>
  window.onscroll = () => {
    const value = -40 - (document.body.scrollHeight - (window.innerHeight + document.scrollingElement.scrollTop));
    
    document.getElementById("sidebar-height").style.bottom = Math.max(0,value) + "px";
};
</script>
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>


  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container --><article class="page-content">
      <div class="ie-utility">
  <div class="ie-menu">
    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">docs.netapp.com</a>
        </li>
        

        
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com/us-en/astra-family/">Astra</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/us-en/astra-data-store/">Astra&nbsp;Data&nbsp;Store</a>
        </li>

      </ul>
    </div>
    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>

      <div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Set up Astra Data Store with VMware</h1>
</div>


<p class="page-details">
  
    
    <time datetime="2022-06-24 22:35:23 +0000">06/24/2022</time>
    
  

<span>Contributors
  <a target="_blank" class="ext-link-indicator" href="https://github.com/amgrissino">
    <img  class="avatar avatar-small"
          alt="amgrissino"
          width="20" height="20"
          src="https://avatars.githubusercontent.com/u/36450105?v=4"
          style="border-radius: 50%;"/>
  </a>
  
  <a target="_blank" class="ext-link-indicator" href="https://github.com/netapp-dbagwell">
    <img  class="avatar avatar-small"
          alt="netapp-dbagwell"
          width="20" height="20"
          src="https://avatars.githubusercontent.com/u/53352450?v=4"
          style="border-radius: 50%;"/>
  </a>
  
  <a target="_blank" class="ext-link-indicator" href="https://github.com/netapp-mwallis">
    <img  class="avatar avatar-small"
          alt="netapp-mwallis"
          width="20" height="20"
          src="https://avatars.githubusercontent.com/u/53353653?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>


</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can set up Astra Data Store as a storage backend and manage it using the NetApp Astra Plugin for VMware vSphere.</p>
</div>
<div class="paragraph">
<p>Setting up Astra Data Store with VMware involves the following tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#activate-vmware-vsphere-services-using-astra-control-center">Activate VMware vSphere services using Astra Control Center</a>.</p>
</li>
<li>
<p><a href="#add-a-vcenter-using-astra-control-center">Add a vCenter using Astra Control Center</a>.</p>
</li>
<li>
<p><a href="#create-a-custom-scc-if-using-openshift">Create a custom SCC (if using OpenShift)</a></p>
</li>
<li>
<p><a href="#use-an-existing-storage-backend-in-the-astra-plugin-for-vmware-vsphere">Use an existing storage backend in the Astra Plugin for VMware vSphere</a>.</p>
</li>
<li>
<p><a href="#create-a-datastore-using-the-astra-plugin-for-vmware-vsphere">Create a datastore using the Astra Plugin for VMware vSphere</a>.</p>
</li>
<li>
<p><a href="#generate-vm-storage-policies">Generate VM storage policies</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">What you&#8217;ll need</div>
<p>Before you set up Astra Data Store with VMware, you&#8217;ll need to ensure the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Astra Control Center is <a href="https://docs.netapp.com/us-en/astra-control-center/get-started/install_overview.html">installed</a> and set up.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/note.svg" alt="Note">
</td>
<td class="content">
For the Astra Data Store Early Access Program (EAP) release, deploy Astra Control Center only on the <code>pcloud</code> namespace if you intend to manage Astra Data Store using Astra Control Center and enable VMware workflows.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Astra Data Store is licensed and deployed. See <a href="../get-started/install-ads.html">Install Astra Data Store</a>.</p>
</li>
<li>
<p>The Kubernetes clusters that were used to deploy Astra Control Center and Astra Data Store must already be managed by Astra Control Center.</p>
</li>
<li>
<p>You have uploaded your Astra Control Center and VASA provider packages before adding a vCenter. <a href="https://docs.netapp.com/us-en/astra-control-center/use/manage-packages-acc.html" target="_blank" rel="noopener">See Manage software packages</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="activate-vmware-vsphere-services-using-astra-control-center">Activate VMware vSphere services using Astra Control Center</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Begin setting up Astra Data Store with VMware by activating vSphere services on Astra Control Center.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/note.svg" alt="Note">
</td>
<td class="content">
VMware vSphere services in Astra Control Center are not enabled by default.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to Astra Control Center.</p>
</li>
<li>
<p>From the left navigation, select <strong>Clusters</strong>.</p>
<div class="paragraph">
<p>The banner displays a message that VMware vSphere services are not yet enabled.</p>
</div>
</li>
<li>
<p>Select <strong>Enable VMware vSphere services</strong>.</p>
<div class="paragraph">
<p>This action might take a while. After the services are enabled, the <strong>Add vCenter</strong> button is enabled.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-a-vcenter-using-astra-control-center">Add a vCenter using Astra Control Center</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add your first vCenter, which registers the Astra Plugin for VMware vSphere.</p>
</div>
<div class="paragraph">
<p>You must have administrative privileges to add the vCenter to Astra Control Center.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/tip.svg" alt="Tip">
</td>
<td class="content">
After the plugin is registered with VMware vSphere, the Astra Plugin for VMware vSphere icon appears in the VMware Shortcuts page. Sometimes after you register the Astra Plugin for VMware vSphere, the plugin doesn&#8217;t appear immediately. In this case, wait a few seconds and refresh the browser.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to Astra Control Center.</p>
</li>
<li>
<p>From the left navigation, select <strong>Clusters</strong>.</p>
</li>
<li>
<p>Select <strong>Add vCenter</strong>.</p>
</li>
<li>
<p>Enter the vCenter server details, vCenter port, and administrative user name and password to provide them to Astra Control Center.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/tip.svg" alt="Tip">
</td>
<td class="content">
This enables deployment of the Astra Plugin for this vCenter in the VMware vSphere client.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select <strong>Add</strong>.</p>
<div class="paragraph">
<p>The vCenter appears on the Clusters page and the total number of managed vCenters is updated on the Astra Control Dashboard. This also initiates the Astra Plugin for VMware vSphere deployment.</p>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="verify-the-vcenter-addition">Verify the vCenter addition</h3>
<div class="paragraph">
<p>The newly added vCenter appears on the Clusters page and on the Dashboard.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/tip.svg" alt="Tip">
</td>
<td class="content">
Both vCenters and Kubernetes clusters appear on the Astra Control Center Dashboard.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Access Astra Control Center.</p>
</li>
<li>
<p>From the left navigation, select <strong>Clusters</strong>.</p>
</li>
<li>
<p>Verify that the newly managed vCenter appears on the Clusters page.</p>
</li>
<li>
<p>From the left navigation, select <strong>Dashboard</strong>.</p>
</li>
<li>
<p>From the Astra Control Center Dashboard, note the new managed vCenter cluster as part of the <strong>Managed</strong> count.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/tip.svg" alt="Tip">
</td>
<td class="content">
The Managed Clusters count includes both vCenters and Kubernetes clusters.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>To view cluster details, click the <strong>Managed</strong> count.</p>
<div class="paragraph">
<p>The Clusters page appears.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-custom-scc-if-using-openshift">Create a custom SCC (if using OpenShift)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are using OpenShift, you can optionally assign security context constraints (SCC) that control the actions that a pod can perform and control what the pod can access.</p>
</div>
<div class="paragraph">
<p>By default, the execution of any container will be granted the restricted SCC and only the capabilities defined by that SCC. Restricted SCC does not provide permissions required by VASA provider pods. Use this procedure to provide the required higher privileges (listed in the sample) to the service accounts used by VASA provider deployments.</p>
</div>
<div class="paragraph">
<p>Assign a custom SCC to various default service accounts for the Astra Data Store 'ntv-system' namespace, which is a hybrid of privileged and node-exporter SCCs.</p>
</div>
<div class="paragraph">
<p>The following steps are needed only for deployment on the Red Hat OpenShift Container Platform (OCP).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a custom SCC called <code>vp_backend_privileged_scc.yaml</code>:</p>
<div class="listingblock">
<div class="content">
<pre>kubectl create -f vp_backend_privileged_scc.yaml</pre>
</div>
</div>
<div class="paragraph">
<p>Sample: vp_backend_privileged_scc.yaml</p>
</div>
<div class="listingblock">
<div class="content">
<pre>allowHostDirVolumePlugin: true
allowHostIPC: false
allowHostNetwork: true
allowHostPID: false
allowHostPorts: true
allowPrivilegeEscalation: true
allowPrivilegedContainer: true
allowedCapabilities:
  - '*'
allowedUnsafeSysctls:
  - '*'
apiVersion: security.openshift.io/v1
defaultAddCapabilities: null
fsGroup:
  type: RunAsAny
groups: []
kind: SecurityContextConstraints
metadata:
  name: vpbackend-privileged
priority: null
readOnlyRootFilesystem: false
requiredDropCapabilities: null
runAsUser:
  type: RunAsAny
seLinuxContext:
  type: RunAsAny
seccompProfiles:
  - '*'
supplementalGroups:
  type: RunAsAny
users:
  - system:serviceaccount:ntv-system:default
  - system:serviceaccount:ntv-system:ntv-auth-svc
  - system:serviceaccount:ntv-system:ntv-autosupport
  - system:serviceaccount:ntv-system:ntv-compliance-svc
  - system:serviceaccount:ntv-system:ntv-datastore-svc
  - system:serviceaccount:ntv-system:ntv-metallb-controller
  - system:serviceaccount:ntv-system:ntv-metallb-speaker
  - system:serviceaccount:ntv-system:ntv-mongodb
  - system:serviceaccount:ntv-system:ntv-nfs-svc
  - system:serviceaccount:ntv-system:ntv-rabbitmq-svc
  - system:serviceaccount:ntv-system:ntv-storage-svc
  - system:serviceaccount:ntv-system:ntv-vault
  - system:serviceaccount:ntv-system:ntv-vault-admin
  - system:serviceaccount:ntv-system:ntv-vault-agent-injector
  - system:serviceaccount:ntv-system:ntv-vault-controller
  - system:serviceaccount:ntv-system:ntv-vault-initializer
  - system:serviceaccount:ntv-system:ntv-vcenter-svc
  - system:serviceaccount:ntv-system:ntv-vm-management-svc
  - system:serviceaccount:ntv-system:ntv-watcher-svc
  - system:serviceaccount:ntv-system:ntv-vault-sa-vault-tls
  - system:serviceaccount:ntv-system:ntv-gateway-svc
  - system:serviceaccount:ntv-system:ntv-jobmanager-svc
  - system:serviceaccount:ntv-system:ntv-vasa-svc
volumes:
  - '*'</pre>
</div>
</div>
</li>
<li>
<p>Display the newly added SCC using the <code>oc get scc</code> command:</p>
<div class="listingblock">
<div class="content">
<pre>oc get scc vpbackend-privileged</pre>
</div>
</div>
<div class="paragraph">
<p>Response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NAME                 PRIV  CAPS  SELINUX  RUNASUSER FSGROUP  SUPGROUP PRIORITY   READONLYROOTFS VOLUMES
vpbackend-privileged true ["*"]  RunAsAny RunAsAny  RunAsAny RunAsAny &lt;no value&gt; false          ["*"]</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-an-existing-storage-backend-in-the-astra-plugin-for-vmware-vsphere">Use an existing storage backend in the Astra Plugin for VMware vSphere</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After adding a vCenter by using the Astra Control Center UI, add the Astra Data Store storage backend using the Astra Plugin for VMware vSphere.</p>
</div>
<div class="paragraph">
<p>This process completes the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds an existing storage backend to the selected vCenter.</p>
</li>
<li>
<p>Registers the VASA provider with the selected vCenter. The VASA provider provides communication between VMware and Astra Data Store.</p>
</li>
<li>
<p>Adds a VASA provider self-signed certificate to the storage backend.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/note.svg" alt="Note">
</td>
<td class="content">
It can sometimes take a few minutes for the storage backend you added to appear in the storage backend wizard.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/note.svg" alt="Note">
</td>
<td class="content">
Astra Data Store should not be shared with multiple vCenters.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Access the NetApp Astra Plugin for VMware vSphere.</p>
</li>
<li>
<p>From the left navigation, select <strong>Astra Plugin for VMware vSphere</strong> or from the Shortcuts page, select the <strong>Astra Plugin for VMware vSphere</strong> icon.</p>
</li>
<li>
<p>From the Astra Plugin for VMware vSphere Overview page, select <strong>Use existing storage backend</strong>. Or, from the left navigation, select <strong>Storage Backends</strong> &gt; <strong>Add</strong>, and select <strong>Use existing storage backend</strong>.</p>
</li>
<li>
<p>Select the existing Astra Data Store as the storage backend and select <strong>Next</strong>.</p>
</li>
<li>
<p>On the VASA provider page, enter the VASA provider name, IP address (if using a load balancer), user name, and password.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/tip.svg" alt="Tip">
</td>
<td class="content">
For the user name, you can use alphanumeric characters and the underscore. Do not enter any special characters. The first letter of the user name must begin with an alphabet character.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Indicate whether you want to deploy a load balancer and enter the IP address, which will be used to access the VASA provider. The IP needs to be an additional routable free IP separate from the node IPs. When the load balancer is enabled, Metallb is deployed in the Astra Data Store Kubernetes cluster and configured to allocate the free IP.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/note.svg" alt="Note">
</td>
<td class="content">
If you are using a Google Anthos cluster for deployment, choose not to deploy a load balancer as Anthos already runs metallb as a load balancer. The metallb deploy flag should be set to false in VASA provider CR (v1beta1_vasaprovider.yaml).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you choose not to deploy a load balancer, it is assumed that the load balancer has already been deployed and configured to allocate IPs for the Kubernetes service of type <strong>Load Balancer</strong>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/tip.svg" alt="Tip">
</td>
<td class="content">
At this point in the deployment, the VASA provider is not yet deployed.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select <strong>Next</strong>.</p>
</li>
<li>
<p>On the Certificate page, review the certificate information for the self-signed certificate.</p>
</li>
<li>
<p>Select <strong>Next</strong>.</p>
</li>
<li>
<p>Review summary information.</p>
</li>
<li>
<p>Select <strong>Add</strong>.</p>
<div class="paragraph">
<p>This deploys the VASA provider.</p>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="verify-the-storage-backend-in-the-astra-plugin-for-vmware-vsphere">Verify the storage backend in the Astra Plugin for VMware vSphere</h3>
<div class="paragraph">
<p>After the Astra Data Store storage backend is registered, it appears in the Astra Plugin for VMware vSphere storage backends list.</p>
</div>
<div class="paragraph">
<p>You can determine the storage backend status and the VASA provider status. You can also see the used capacity of each storage backend.</p>
</div>
<div class="paragraph">
<p>After selecting a storage backend, you can also view used and available capacity, data reduction ratio, and internal network management IP address.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>In the NetApp Astra Plugin for VMware vSphere, from the left navigation, select <strong>Storage Backends</strong>.</p>
</li>
<li>
<p>Select the Astra Data Store storage backend to see the Summary tab.</p>
</li>
<li>
<p>Review used and available capacity, data reduction ratio, and status of the VASA provider.</p>
</li>
<li>
<p>Select the other tabs to see information about VMs, datastores, hosts, and storage nodes.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-datastore-using-the-astra-plugin-for-vmware-vsphere">Create a datastore using the Astra Plugin for VMware vSphere</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After adding the storage backend and registering the Astra Plugin for VMware vSphere, you can create a datastore in VMware.</p>
</div>
<div class="paragraph">
<p>You can add the datastore to a datacenter, compute, or a host cluster.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/note.svg" alt="Note">
</td>
<td class="content">
You cannot use the same storage backend to create multiple datastores under same datacenter.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can add a vVol datastore type using an NFS protocol.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Access the Astra Plugin for VMware vSphere.</p>
</li>
<li>
<p>From the plugin menu, select <strong>Create Datastore</strong>.</p>
</li>
<li>
<p>Enter the new datastore name, type (vVol), and protocol (NFS).</p>
</li>
<li>
<p>Select <strong>Next</strong>.</p>
</li>
<li>
<p>From the Storage page, select the Astra Data Store storage backend that you just created.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/tip.svg" alt="Tip">
</td>
<td class="content">
You cannot use a storage backend that has an existing datastore.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select <strong>Next</strong>.</p>
</li>
<li>
<p>From the Summary page, review the information.</p>
</li>
<li>
<p>Select <strong>Create</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/astra-data-store/images/note.svg" alt="Note">
</td>
<td class="content">
If you encounter an error related to a failed scan or general system error, <a href="https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.vsphere.storage.doc/GUID-E8EA857E-268C-41AE-BBD9-08092B9A905D.html">rescan/synchronize your storage provider on vCenter</a> then try to create the datastore again.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generate-vm-storage-policies">Generate VM storage policies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you create a datastore and before you create VMs, you should generate predesigned VM storage policies by using <code>/virtualization/api/v1/vcenters/vm-storage-policies</code> in the REST API UI.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Access the REST API UI page by going to <code><a href="https://&lt;ads_gateway_ip&gt;:8443" class="bare">https://&lt;ads_gateway_ip&gt;:8443</a></code>.</p>
</li>
<li>
<p>Go to the API <code>POST /virtualization/api/auth/login</code> and provide the username, password and vCenter hostname.</p>
<div class="paragraph">
<p>Response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "vmware-api-session-id": "212f4d6447b05586ab1509a76c6e7da56d29cc5b",
  "vcenter-guid": "8e475060-b3c8-4267-bf0f-9d472d592d39"
}</pre>
</div>
</div>
</li>
<li>
<p>Go to the API <code>GET /virtualization/api/auth/validate-session</code> and complete the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the <code>vmware-api-session-id</code> and <code>vcenter-guid</code> generated above as headers.</p>
</li>
<li>
<p>Select <strong>Try it now</strong>.</p>
<div class="paragraph">
<p>Response: (authentication truncated below):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>authorization: eyJhbGciOiJSUzI1NiIsInR...9h15DYYvClT3oA  connection: keep-alive  content-type: application/json  date: Wed,18 May 2022 13:31:18 GMT  server: nginx  transfer-encoding: chunked</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Go to the API <code>/virtualization/api/v1/vcenters/vm-storage-policies</code> and add the bearer token generated in the previous response as 'authorization'.</p>
<div class="paragraph">
<p>A "200" response appears and three VM storage policies are generated.</p>
</div>
</li>
<li>
<p>Verify the new VM storage policies (named Bronze, Silver, and Gold) on the VCenter Storage Policy page.</p>
</li>
<li>
<p>Continue by creating VMs.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="whats-next">What&#8217;s next</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next, you might want to do the following tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create VMs.</p>
</li>
<li>
<p>Mount the datastore. See <a href="../use-vmware/manage-ads-vmware.html#mount-a-datastore">Mount a datastore</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="for-more-information">For more information</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.netapp.com/us-en/astra-control-center/" target="_blank" rel="noopener">Astra Control Center documentation</a></p>
</li>
<li>
<p><a href="https://docs.netapp.com/us-en/astra-family/intro-family.html" target="_blank" rel="noopener">Astra family introduction</a></p>
</li>
</ul>
</div>
</div>
</div>

    </article>
    <!-- Page Container -->
  </div>

  <div style="clear: both"></div><!-- Main needs to have height --></div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">
        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/us/legal/copyright.aspx">© 2022 NetApp, Inc.</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/terms-of-use/">Terms of Use</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/privacy-policy/">Privacy Policy</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/cookie-policy/">Cookie Policy</a>
            </li>
            <li class="n-footer__copyright-link">
              <a class="ot-sdk-show-settings">Cookie Settings</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="n-footer__bottom-right">
        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
              <span class="n-footer__fine-print">Have feedback for our website?</span>
              <a target="_self" href="javascript:netapp_mailto()">Let us know</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://docs.netapp.com/us-en/announcements/">Announcements</a>
            </li>
          </ul>
        </div>
        <div class="n-footer__social-links">
          <ul class="n-footer__social-link-list">
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com"
                target="_blank" title="blog" alt="blog">
                <span class="n-footer__social-link-text">blog</span>
                <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
                  <title>blog@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#blog"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/"
                target="_blank" title="community" alt="community">
                <span class="n-footer__social-link-text">community</span>
                <svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
                  <title>community@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#comments"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp"
                target="_blank" title="twitter" alt="twitter">
                <span class="n-footer__social-link-text">twitter</span>
                <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                  <title>twitter@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#twitter"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp"
                target="_blank" title="facebook" alt="facebook">
                <span class="n-footer__social-link-text">facebook</span>
                <svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
                  <title>facebook@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#facebook"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-linkedin"
                href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
                <span class="n-footer__social-link-text">linkedin</span>
                <svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
                  <title>linkedin@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#linkedin"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-youtube"
                href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
                <span class="n-footer__social-link-text">youtube</span>
                <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
                  <title>youtube@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#youtube"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-slideshare"
                href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
                <span class="n-footer__social-link-text">slideshare</span>
                <svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
                  <title>slideshare@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/astra-data-store/common/svg/sprite.svg#slideshare"></use>
                </svg>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

      </div><!-- Elasticsearch JS -->
      <script type="text/javascript" src='/us-en/astra-data-store/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/us-en/astra-data-store/js/prism.js'></script>
      <script type="text/javascript" src='/us-en/astra-data-store/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/us-en/astra-data-store/js/www-ntap.js'></script>
    <script src='/us-en/astra-data-store/js/tabbed-blocks.js'></script>
    <script src='/us-en/astra-data-store/js/sidebar.js'></script>
  </body></html>
